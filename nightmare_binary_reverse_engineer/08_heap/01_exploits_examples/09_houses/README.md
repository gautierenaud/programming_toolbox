# House of Spirit

This type of exploit revolves around being able to create a fake chunk with "valid" looking size information, so that upon freeing said chunk it will insert that memory region into the corresponding bin.

We practically rely on how lazily libc checks the sanity of fake chunks.

In ubuntu 16.04, fastbin is used for house of spirit (so the sizes need to correspond to what fastbin accepts, i.e. less than 128 (0x80) bytes). We need 2 chunks, one that we will free then a following one with a sane looking size header.

In ubuntu 20.04 we use tcache, and it seems libc is even more lax. We only need a fake chunk with a correct looking size and free it.
